# flutter & dart
# unicode与utf8踩坑
## 什么是unicode
unicode是一种统一字符集，旨在使用一种字符集表示所有的字符。  
在unicode中为每一个字符指定了一个值，这个值叫做码点。例如:
```
U+0000 = null
```
其中unicode将这些字符分区，每一个区可以存储2^16个字符称为一个平面。第一个分区称为基本平面(BMP)码点范围2^16-1。其余的平面都叫做辅助平面(SMP)，码点范围从U+010000到U+10FFFF  
unicode只是规定了每个字符的码点，并未规定以怎样的字节序表示这个码点，这个方法叫做编码方法。  
1. UTF32  
直接用四个字节表示
2. UTF8
变长编码，长度从1个字节到4个字节不等
## js中的unicode与字符长度
js使用的编码方式既不是UTF8也不是UTF16而是ucs-2。这种编码方法只支持16位的码点，也就是2字节的长度，如果是4字节的字符将会当做两个双字节处理。即使用str.length返回的结果会是2而不是1.
## 数据库编码的utf8mb4与utf8